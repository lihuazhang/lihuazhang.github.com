
<!doctype html>
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7]> <html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
   <meta charset="utf-8" />
   <!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame -->
   <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

   <title>Capybara+Cucumber+WebDriver自动化测试框架 - 8:00 PM at My House</title>
	
	<meta name="description" content="

  
    
       2012-04-19
        Capybara 
      
       comments
    
  
  我面试的时候，BOSS对我说，我们是要求自动化的。我想这我会啊。BOSS又说，我们也有一套自动化的框架。我想那更好。然后等我入职之后，发...">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<link href="" rel="alternate" title="8:00 PM at My House" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
   <meta name="robots" content="noindex, nofollow">
   <meta name="keywords" content="metro, metroui, metro-ui, metro ui, windows 8, metro style, bootstrap, framework, web framework, css, html" />
   <meta name="author" content="晋恒温"/>

   <!-- remove or comment this line if you want to use the local fonts -->
   <link href='http://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700' rel='stylesheet' type='text/css'>

   <link rel="stylesheet" type="text/css" href="/bootmetro/css/bootstrap.css">
   <link rel="stylesheet" type="text/css" href="/bootmetro/css/bootstrap-responsive.css">
   <link rel="stylesheet" type="text/css" href="/bootmetro/css/bootmetro.css">
   <link rel="stylesheet" type="text/css" href="/bootmetro/css/bootmetro-tiles.css">
   <link rel="stylesheet" type="text/css" href="/bootmetro/css/metro-ui-light.css">
   <link rel="stylesheet" type="text/css" href="/bootmetro/css/icomoon.css">
   <link rel="stylesheet" type="text/css" href="/stylesheets/syntax.css">
   <link rel="stylesheet" type="text/css" href="/stylesheets/custom.css">

   <!-- All JavaScript at the bottom, except for Modernizr and Respond.
      Modernizr enables HTML5 elements & feature detects; Respond is a polyfill for min/max-width CSS3 Media Queries
      For optimal performance, use a custom Modernizr build: www.modernizr.com/download/ -->
   <script src="/scripts/modernizr-2.6.1.min.js"></script>
</head>
<!-- Prompt IE 6 users to install Chrome Frame. Remove this if you support IE 6.
     chromium.org/developers/how-tos/chrome-frame-getting-started -->
<!--[if lt IE 7]><p class=chromeframe>Your browser is <em>ancient!</em> <a href="http://browsehappy.com/">Upgrade to a different browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to experience this site.</p><![endif]-->


<body>
<header id="nav-bar" class="container-fluid">
   <div class="row-fluid">
      <div class="span8">
         <div id="header-container">
            <a id="backbutton" class="win-backbutton" href ="javascript:history.go(-1);"></a>
            <h5>8:00 PM at My House</h5>
            <div class="dropdown">
               <a class="header-dropdown dropdown-toggle accent-color" data-toggle="dropdown" href="#">
                 Capybara+Cucumber+WebDriver自动化测试框架
                  <b class="caret"></b>
               </a>
               <ul class="dropdown-menu">
               	<li><a href="/archives.html">存档</a></li>
               	<li><a href="/categories.html">分类</a></li>
               <li class="divider"></li>
               <li><a href="/index.html">Home</a></li>
            </ul>
         </div>
         </div>
      </div>
      <div id="top-info" class="pull-right">
      <a href="/about_me.html" class="pull-left">
         <div id="authorname" class="top-info-block">
           <h3>晋恒温</h3>
         </div>
         <div class="top-info-block">
            <b class="icon-user"></b>
         </div>
      </a>
   </div>
</div>
</header>


<div class="container">
<article class="entry" id="/blog/capybara-plus-cucumber-plus-webdriverzi-dong-hua-ce-shi-kuang-jia">
  <header>
    <p class="entry-meta">
      <i aria-hidden="true" class="icon-pen-alt-fill"></i> <time>2012-04-19</time>
      <i aria-hidden="true" class="icon-folder"></i> <a href="/categories.html#Capybara-ref"> Capybara </a>
      
      <i aria-hidden="true" class="icon-comments-3"></i> <a href="#comment">comments</a>
    </p>
  </header>
  <p>我面试的时候，BOSS对我说，我们是要求自动化的。我想这我会啊。BOSS又说，我们也有一套自动化的框架。我想那更好。然后等我入职之后，发现毛框架也没有，只有四个完全不会代码的测试攻城狮。</p>

<p>老板说要自动化，我说自动化啊？我花了几天的时间温习了我熟悉的<code>JAVA+Junit+SeleniumRC</code>，否定了这个框架，一来语言太重，二来都不会coding。我很苦恼地向BOSS抱怨了，他说用脚本语言吧，于是我就想要不就用<code>python+pyunit+webdriver</code>，在google打工的时候，接触的就是这个框架。BOSS想了想，说用ruby吧。原因在他是ruby的超级粉丝。</p>

<p>于是我找到了<code>cucumber+capybara+webdriver</code>，这也是我第一次接触ruby，第一次接触BDD。而我选用这个框架的原因如下：
    1. cucumber有一套自己的DSL，任何会写测试用例的人都会写。
    2. 对于这套框架要学的ruby知识，学起来相对容易。
    3. 公司文化。</p>

<p>前面都是废话，下面开始进入正题。</p>

<h2>功于善其事，必先利其器</h2>

<ul>
<li>首先搭建环境，确定有ruby的环境。安装必要的gem
<code>bash
gem install cucumber 
gem install capybara
gem ins tall selenium-webdriver
</code></li>
</ul>

<p><em><a href="http://cukes.info/">Cucumber</a> <a href="https://github.com/jnicklas/capybara">Capybara</a> <a href="http://code.google.com/p/selenium/">WebDriver</a></em></p>

<ul>
<li>建立个空项目，将gem加入gemfile</li>
</ul>
<div class="highlight"><pre><code class="ruby"><span class="n">source</span> <span class="s2">&quot;http://ruby.taobao.org/&quot;</span>
<span class="n">gem</span> <span class="s1">&#39;cucumber&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;= 1.1.9&#39;</span>
<span class="n">gem</span> <span class="s2">&quot;capybara&quot;</span><span class="p">,</span> <span class="s2">&quot;~&gt; 1.1.2&quot;</span>
<span class="n">gem</span> <span class="s1">&#39;selenium-webdriver&#39;</span><span class="p">,</span> <span class="s1">&#39;&gt;= 2.20.0&#39;</span>
</code></pre></div>
<ul>
<li>先简单介绍一下cucumber</li>
</ul>

<p>我们在这个空项目下运行<code>cucumber</code></p>
<div class="highlight"><pre><code class="bash">zhangmatoMacBook-Pro:test lihuazhang<span class="nv">$ </span>cucumber
You don<span class="s1">&#39;t have a &#39;</span>features<span class="err">&#39;</span> directory.  Please create one to get started.
See http://cukes.info/ <span class="k">for </span>more information.
</code></pre></div>
<p>可以看出cucumber会去寻找<code>features</code>目录，先创建一个features目录。</p>
<div class="highlight"><pre><code class="bash">zhangmatoMacBook-Pro:test lihuazhang<span class="nv">$ </span>mkdir features
zhangmatoMacBook-Pro:test lihuazhang<span class="nv">$ </span>ls
features
zhangmatoMacBook-Pro:test lihuazhang<span class="nv">$ </span>cucumber
0 scenarios
0 steps
0m0.000s
</code></pre></div>
<p>因为在features下面什么都没有，所以运行结果都是零。</p>

<p>那我们创建一个feature，cucumber把feature都命名为xxx.feature, 而每个feature有多个scenario。</p>
<div class="highlight"><pre><code class="ruby"><span class="ss">Feature</span><span class="p">:</span> <span class="no">Adding</span>

    <span class="ss">Scenario</span><span class="p">:</span> <span class="no">Add</span> <span class="n">two</span> <span class="n">numbers</span>
        <span class="no">Given</span> <span class="n">the</span> <span class="n">input</span> <span class="s2">&quot;2+2&quot;</span>
        <span class="no">When</span> <span class="n">the</span> <span class="n">calculator</span> <span class="n">is</span> <span class="n">run</span>
        <span class="no">Then</span> <span class="n">the</span> <span class="n">output</span> <span class="n">should</span> <span class="n">be</span> <span class="s2">&quot;4&quot;</span>
    <span class="ss">Scenario</span><span class="p">:</span> <span class="no">Minus</span> <span class="n">two</span> <span class="n">numbers</span>
        <span class="no">Given</span> <span class="n">the</span> <span class="n">input</span> <span class="s2">&quot;2-1&quot;</span>
        <span class="no">When</span> <span class="n">the</span> <span class="n">calculator</span> <span class="n">is</span> <span class="n">run</span>
        <span class="no">Then</span> <span class="n">the</span> <span class="n">output</span> <span class="n">should</span> <span class="n">be</span> <span class="s2">&quot;0&quot;</span>
</code></pre></div>
<p>cucumber使用<code>Given/When/Then</code>这种叫做<a href="https://github.com/cucumber/cucumber/wiki/Gherkin">gherkin</a>的可描述性语言(DSL)。</p>

<p>feature文件中的每个Given/When/Then步骤在Step文件中都有对应的Ruby执行代码，两类文件通过正则表达式相关联。后面马上讲到。</p>

<p>让我们再来运行一遍</p>
<div class="highlight"><pre><code class="ruby"><span class="n">zhangmatoMacBook</span><span class="o">-</span><span class="ss">Pro</span><span class="p">:</span><span class="nb">test</span> <span class="n">lihuazhang</span><span class="err">$</span> <span class="n">cucumber</span> 
<span class="ss">Feature</span><span class="p">:</span> <span class="no">Adding</span>

  <span class="ss">Scenario</span><span class="p">:</span> <span class="no">Add</span> <span class="n">two</span> <span class="n">numbers</span>       <span class="c1"># features/test.feature:3</span>
    <span class="no">Given</span> <span class="n">the</span> <span class="n">input</span> <span class="s2">&quot;2+2&quot;</span>         <span class="c1"># features/test.feature:4</span>
    <span class="no">When</span> <span class="n">the</span> <span class="n">calculator</span> <span class="n">is</span> <span class="n">run</span>    <span class="c1"># features/test.feature:5</span>
    <span class="no">Then</span> <span class="n">the</span> <span class="n">output</span> <span class="n">should</span> <span class="n">be</span> <span class="s2">&quot;4&quot;</span> <span class="c1"># features/test.feature:6</span>

  <span class="ss">Scenario</span><span class="p">:</span> <span class="no">Minus</span> <span class="n">two</span> <span class="n">numbers</span>     <span class="c1"># features/test.feature:7</span>
    <span class="no">Given</span> <span class="n">the</span> <span class="n">input</span> <span class="s2">&quot;2-1&quot;</span>         <span class="c1"># features/test.feature:8</span>
    <span class="no">When</span> <span class="n">the</span> <span class="n">calculator</span> <span class="n">is</span> <span class="n">run</span>    <span class="c1"># features/test.feature:9</span>
    <span class="no">Then</span> <span class="n">the</span> <span class="n">output</span> <span class="n">should</span> <span class="n">be</span> <span class="s2">&quot;0&quot;</span> <span class="c1"># features/test.feature:10</span>

<span class="mi">2</span> <span class="n">scenarios</span> <span class="p">(</span><span class="mi">2</span> <span class="n">undefined</span><span class="p">)</span>
<span class="mi">6</span> <span class="n">steps</span> <span class="p">(</span><span class="mi">6</span> <span class="n">undefined</span><span class="p">)</span>
<span class="mi">0</span><span class="n">m0</span><span class="o">.</span><span class="mo">005</span><span class="n">s</span>

<span class="no">You</span> <span class="n">can</span> <span class="n">implement</span> <span class="n">step</span> <span class="n">definitions</span> <span class="k">for</span> <span class="n">undefined</span> <span class="n">steps</span> <span class="n">with</span> <span class="n">these</span> <span class="ss">snippets</span><span class="p">:</span>

<span class="no">Given</span> <span class="sr">/^the input &quot;([^&quot;]*)&quot;$/</span> <span class="k">do</span> <span class="o">|</span><span class="n">arg1</span><span class="o">|</span>
  <span class="n">pending</span> <span class="c1"># express the regexp above with the code you wish you had</span>
<span class="k">end</span>

<span class="no">When</span> <span class="sr">/^the calculator is run$/</span> <span class="k">do</span>
  <span class="n">pending</span> <span class="c1"># express the regexp above with the code you wish you had</span>
<span class="k">end</span>

<span class="no">Then</span> <span class="sr">/^the output should be &quot;([^&quot;]*)&quot;$/</span> <span class="k">do</span> <span class="o">|</span><span class="n">arg1</span><span class="o">|</span>
  <span class="n">pending</span> <span class="c1"># express the regexp above with the code you wish you had</span>
<span class="k">end</span>

<span class="no">If</span> <span class="n">you</span> <span class="n">want</span> <span class="n">snippets</span> <span class="k">in</span> <span class="n">a</span> <span class="n">different</span> <span class="n">programming</span> <span class="n">language</span><span class="p">,</span>
<span class="n">just</span> <span class="n">make</span> <span class="n">sure</span> <span class="n">a</span> <span class="n">file</span> <span class="n">with</span> <span class="n">the</span> <span class="n">appropriate</span> <span class="n">file</span> <span class="n">extension</span>
<span class="n">exists</span> <span class="n">where</span> <span class="n">cucumber</span> <span class="n">looks</span> <span class="k">for</span> <span class="n">step</span> <span class="n">definitions</span><span class="o">.</span>
</code></pre></div>
<p>可以看到我们运行了2个scenarios,6个steps，都没有定义，于是cucumber仁慈的告诉了我们如何实现。于是我们就要开始写step了。</p>
<div class="highlight"><pre><code class="ruby"><span class="c1">#小小作弊下，就不写的漂亮了。</span>
<span class="no">Given</span> <span class="sr">/^the input &quot;([^&quot;]*)&quot;$/</span> <span class="k">do</span> <span class="o">|</span><span class="n">statement</span><span class="o">|</span>
    <span class="vi">@answer</span> <span class="o">=</span> <span class="nb">eval</span> <span class="n">statement</span>
<span class="k">end</span>

<span class="no">When</span> <span class="sr">/^the calculator is run$/</span> <span class="k">do</span>
    <span class="nb">puts</span> <span class="s2">&quot;Run~&quot;</span>
<span class="k">end</span>

<span class="no">Then</span> <span class="sr">/^the output should be &quot;([^&quot;]*)&quot;$/</span> <span class="k">do</span> <span class="o">|</span><span class="n">answer</span><span class="o">|</span>
    <span class="vi">@answer</span> <span class="o">==</span> <span class="n">answer</span>
<span class="k">end</span>
</code></pre></div>
<p>我们再来运行一遍</p>
<div class="highlight"><pre><code class="ruby"><span class="n">zhangmatoMacBook</span><span class="o">-</span><span class="ss">Pro</span><span class="p">:</span><span class="nb">test</span> <span class="n">lihuazhang</span><span class="err">$</span> <span class="n">cucumber</span> 
<span class="ss">Feature</span><span class="p">:</span> <span class="no">Adding</span>

  <span class="ss">Scenario</span><span class="p">:</span> <span class="no">Add</span> <span class="n">two</span> <span class="n">numbers</span>       <span class="c1"># features/test.feature:3</span>
    <span class="no">Given</span> <span class="n">the</span> <span class="n">input</span> <span class="s2">&quot;2+2&quot;</span>         <span class="c1"># features/step_definitions/test_step.rb:1</span>
    <span class="no">When</span> <span class="n">the</span> <span class="n">calculator</span> <span class="n">is</span> <span class="n">run</span>    <span class="c1"># features/step_definitions/test_step.rb:5</span>
      <span class="no">Run</span><span class="o">~</span>
    <span class="no">Then</span> <span class="n">the</span> <span class="n">output</span> <span class="n">should</span> <span class="n">be</span> <span class="s2">&quot;4&quot;</span> <span class="c1"># features/step_definitions/test_step.rb:9</span>

  <span class="ss">Scenario</span><span class="p">:</span> <span class="no">Minus</span> <span class="n">two</span> <span class="n">numbers</span>     <span class="c1"># features/test.feature:7</span>
    <span class="no">Given</span> <span class="n">the</span> <span class="n">input</span> <span class="s2">&quot;2-1&quot;</span>         <span class="c1"># features/step_definitions/test_step.rb:1</span>
    <span class="no">When</span> <span class="n">the</span> <span class="n">calculator</span> <span class="n">is</span> <span class="n">run</span>    <span class="c1"># features/step_definitions/test_step.rb:5</span>
      <span class="no">Run</span><span class="o">~</span>
    <span class="no">Then</span> <span class="n">the</span> <span class="n">output</span> <span class="n">should</span> <span class="n">be</span> <span class="s2">&quot;0&quot;</span> <span class="c1"># features/step_definitions/test_step.rb:9</span>

<span class="mi">2</span> <span class="n">scenarios</span> <span class="p">(</span><span class="mi">2</span> <span class="n">passed</span><span class="p">)</span>
<span class="mi">6</span> <span class="n">steps</span> <span class="p">(</span><span class="mi">6</span> <span class="n">passed</span><span class="p">)</span>
<span class="mi">0</span><span class="n">m0</span><span class="o">.</span><span class="mo">005</span><span class="n">s</span>
</code></pre></div>
<p>哇，恭喜都通过了。</p>

<p>好，关于cucumber的介绍就到这里，具体可以去看看<a href="http://www.cnblogs.com/CloudTeng/articles/2214293.html">Cucumber的目录结构和执行过程</a></p>

<ul>
<li>在简单介绍下Capybara</li>
</ul>

<p>Capybara是水豚的意思，在水豚之前有一个老鼠，叫做webrat，你如果在google上搜索<code>capybara webrat</code>的话，会发现一大推类似
<blockquote>
Cucumber: Switching from Webrat to Capybara - cakebaker
cakebaker.42dh.com/.../cucumber-switching-from... - 网页快照 - 翻译此页
19 Sep 2010 – Fortunately, there is an alternative working with both Rails versions: Capybara. And so I decided to make the switch from Webrat to Capybara.
</blockquote></p>

<p>Webrat逐渐被Capybara取代，就像selenium逐渐被webdriver取代。</p>

<p>Capybara主要是用来测试rails和Rack应用的。官网上说</p>

<blockquote>
Capybara helps you test Rails and Rack applications by simulating how a real user would interact with your app. It is agnostic about the driver running your tests and comes with Rack::Test and Selenium support built in. WebKit is supported through an external gem.
</blockquote>

<p>我们主要用Capybara和Webdriver结合起来进行网页自动化测试。（注意：Capybara不支持selenium rc）</p>

<p>详细请见<a href="https://github.com/jnicklas/capybara">Capybara</a>,里面讲的非常详细了。</p>

<h2>小试牛刀</h2>

<p>在了解了cucumber和capybara之后，我们可以正式开始写点东西。 在空项目底下，建立类似的目录结构</p>
<div class="highlight"><pre><code class="bash">├── features
    ├── example
       ├── example.feature
       ├── step_definitions
       │   └── example_steps.rb
       └── support
           └── env.rb
</code></pre></div>
<p>我们这个例子是访问百度</p>
<div class="highlight"><pre><code class="ruby"><span class="ss">Feature</span><span class="p">:</span> <span class="no">Using</span> <span class="n">baidu</span>

<span class="ss">Scenario</span><span class="p">:</span> <span class="no">Searching</span> <span class="k">for</span> <span class="n">a</span> <span class="n">term</span>

<span class="no">Given</span> <span class="n">I</span> <span class="n">am</span> <span class="n">on</span> <span class="n">baidu</span><span class="o">.</span><span class="n">com</span>
<span class="no">When</span> <span class="n">I</span> <span class="n">enter</span> <span class="s2">&quot;pizza&quot;</span>
<span class="no">And</span> <span class="n">I</span> <span class="n">press</span> <span class="s2">&quot;百度一下&quot;</span>
<span class="no">Then</span> <span class="n">I</span> <span class="n">should</span> <span class="n">see</span> <span class="s2">&quot;pizza_百度百科&quot;</span>
</code></pre></div>
<p>Given/When/And/Then很明了的告诉我们，打开百度，输入pizza，然后点击百度一下，然后就能看到pizza_百度百科。</p>
<div class="highlight"><pre><code class="ruby"><span class="no">Given</span> <span class="sr">/^I am on baidu\.com$/</span> <span class="k">do</span>
  <span class="no">Capybara</span><span class="o">.</span><span class="n">app_host</span> <span class="o">=</span> <span class="s2">&quot;http://www.baidu.com&quot;</span>
  <span class="n">visit</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>
<span class="k">end</span>

<span class="no">When</span> <span class="sr">/^I enter &quot;([^&quot;]*)&quot;$/</span> <span class="k">do</span> <span class="o">|</span><span class="n">term</span><span class="o">|</span>
  <span class="n">fill_in</span><span class="p">(</span><span class="s1">&#39;wd&#39;</span><span class="p">,</span><span class="ss">:with</span> <span class="o">=&gt;</span> <span class="n">term</span><span class="p">)</span>
<span class="k">end</span>

<span class="no">When</span> <span class="sr">/^(?:|I )press &quot;([^&quot;]*)&quot;$/</span> <span class="k">do</span> <span class="o">|</span><span class="n">button</span><span class="o">|</span>
  <span class="nb">puts</span> <span class="n">button</span>
  <span class="n">click_button</span><span class="p">(</span><span class="n">button</span><span class="p">)</span>
<span class="k">end</span>

<span class="no">Then</span> <span class="sr">/^(?:|I )should see &quot;([^&quot;]*)&quot;$/</span> <span class="k">do</span> <span class="o">|</span><span class="n">text</span><span class="o">|</span>
  <span class="k">if</span> <span class="n">page</span><span class="o">.</span><span class="n">respond_to?</span> <span class="ss">:should</span>
    <span class="n">page</span><span class="o">.</span><span class="n">should</span> <span class="n">have_content</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
  <span class="k">else</span>
    <span class="n">assert</span> <span class="n">page</span><span class="o">.</span><span class="n">has_content?</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div>
<p>接着就是值得一提的env.rb，这是cucumber的环境配置文件。
<blockquote>
The file features/support/env.rb is always the very first file to be loaded when Cucumber starts a test run. You use it to prepare the environment for the rest of your support and step definition code to operate. 
</blockquote></p>
<div class="highlight"><pre><code class="ruby"><span class="nb">require</span> <span class="s1">&#39;capybara&#39;</span>
<span class="nb">require</span> <span class="s1">&#39;capybara/cucumber&#39;</span>
<span class="nb">require</span> <span class="s1">&#39;capybara/dsl&#39;</span>

<span class="no">Capybara</span><span class="o">.</span><span class="n">app_host</span> <span class="o">=</span> <span class="s2">&quot;http://www.baidu.com&quot;</span>
<span class="no">Capybara</span><span class="o">.</span><span class="n">default_driver</span> <span class="o">=</span> <span class="ss">:selenium</span>
</code></pre></div>
<p>让我们来运行一下</p>
<div class="highlight"><pre><code class="ruby"><span class="n">zhangmatoMacBook</span><span class="o">-</span><span class="ss">Pro</span><span class="p">:</span><span class="n">features</span> <span class="n">lihuazhang</span><span class="err">$</span> <span class="n">cucumber</span> <span class="n">example</span><span class="o">/</span><span class="n">example</span><span class="o">.</span><span class="n">feature</span> 
<span class="ss">Feature</span><span class="p">:</span> <span class="no">Using</span> <span class="n">baidu</span>

  <span class="ss">Scenario</span><span class="p">:</span> <span class="no">Searching</span> <span class="k">for</span> <span class="n">a</span> <span class="n">term</span>   <span class="c1"># example/example.feature:4</span>
    <span class="no">Given</span> <span class="n">I</span> <span class="n">am</span> <span class="n">on</span> <span class="n">baidu</span><span class="o">.</span><span class="n">com</span>        <span class="c1"># example/step_definitions/example_steps.rb:1</span>
    <span class="no">When</span> <span class="n">I</span> <span class="n">enter</span> <span class="s2">&quot;pizza&quot;</span>           <span class="c1"># example/step_definitions/example_steps.rb:6</span>
    <span class="no">And</span> <span class="n">I</span> <span class="n">press</span> <span class="s2">&quot;百度一下&quot;</span>             <span class="c1"># example/step_definitions/example_steps.rb:10</span>
      <span class="err">百度一下</span>
    <span class="no">Then</span> <span class="n">I</span> <span class="n">should</span> <span class="n">see</span> <span class="s2">&quot;pizza_百度百科&quot;</span> <span class="c1"># example/step_definitions/example_steps.rb:15</span>

<span class="mi">1</span> <span class="n">scenario</span> <span class="p">(</span><span class="mi">1</span> <span class="n">passed</span><span class="p">)</span>
<span class="mi">4</span> <span class="n">steps</span> <span class="p">(</span><span class="mi">4</span> <span class="n">passed</span><span class="p">)</span>
<span class="mi">0</span><span class="n">m9</span><span class="o">.</span><span class="mi">184</span><span class="n">s</span>
</code></pre></div>
<p>Nice!</p>

<p>至此，基本的框架搭好了。至于如何配置不同的浏览器，以及如何和page object配合，我们以后再讲。</p>

</article>


<section id="comment">
  <!-- Duoshuo Comment BEGIN -->
<div class="ds-thread"></div>
<script type="text/javascript">
var duoshuoQuery = {short_name:"jinhengwen" };
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = 'http://static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script>
<!-- Duoshuo Comment END -->


</section>



</div>



<!-- Grab Google CDN's jQuery. fall back to local if necessary -->
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script>window.jQuery || document.write("<script src='/scripts/jquery-1.8.2.min.js'>\x3C/script>")</script>
<script type="text/javascript" src="/scripts/jquery.mousewheel.js"></script>
<script type="text/javascript" src="/scripts/jquery.scrollTo.js"></script>
<script type="text/javascript" src="/scripts/bootstrap.min.js"></script>
<script type="text/javascript" src="/scripts/bootstrap-carousel.js"></script>
<script type="text/javascript" src="/scripts/bootmetro.js"></script>
<script type="text/javascript" src="/scripts/holder.js"></script>
<script type="text/javascript" src="/scripts/tile-slider.js"></script>
<script type="text/javascript">
$(".metro").metro();
</script>

</body>
</html>

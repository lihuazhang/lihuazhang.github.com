<!DOCTYPE html>
<html lang="zh-cn">
<head>

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no" />
<meta name="author" content="恒温" />


    
    


<meta property="og:type" content="website">
<meta property="og:title" content="八点在家">
<meta property="og:url" content="http://lihuazhang.github.io/page/5/index.html">
<meta property="og:site_name" content="八点在家">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="八点在家">

<link rel="apple-touch-icon" href= "/apple-touch-icon.png">


    <link rel="alternate" href="/atom.xml" title="八点在家" type="application/atom+xml">



    <link rel="shortcut icon" href="/favicon.png">





    <link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">



    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet">


<link rel="stylesheet" href="/css/style.css">



<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>八点在家</title>

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: true,
        animate: false,
        isHome: true,
        isPost: false,
        isArchive: false,
        isTag: false,
        isCategory: false,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: undefined
    }
</script>


    <script> yiliaConfig.jquery_ui = [false]; </script>



    <script> yiliaConfig.rootUrl = "\/";</script>






</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/images/avatar.jpeg" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">恒温</a></h1>
        </hgroup>

        

        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">主页</a></li>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                            <li><a href="/tags/">标签云</a></li>
                        
                            <li><a href="/about/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" href="mailto:lihuazhang@hotmail.com" title="Email"></a>
                            
                                <a class="fa GitHub" href="https://github.com/lihuazhang" title="GitHub"></a>
                            
                                <a class="fa RSS" href="/atom.xml" title="RSS"></a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Appium/">Appium</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Metro/">Metro</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WebDriver/">WebDriver</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/capybara/">capybara</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cocos2d/">cocos2d</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cucumber/">cucumber</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gatling/">gatling</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jmeter/">jmeter</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/">mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nexus-7/">nexus 7</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pageobject/">pageobject</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ruby/">ruby</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vim/">vim</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/windows/">windows</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/zsh/">zsh</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/冯唐/">冯唐</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/南京/">南京</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/博客/">博客</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/听来的故事/">听来的故事</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/孩子/">孩子</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/年终总结/">年终总结</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/恐怖/">恐怖</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/抽烟/">抽烟</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/来自qqzone/">来自qqzone</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/来自wechat/">来自wechat</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/杭州/">杭州</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/电影/">电影</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/移动测试/">移动测试</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/陆犯焉识/">陆犯焉识</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/随笔/">随笔</a></li></ul>
                    </div>
                </section>
                
                
                

                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">恒温</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/images/avatar.jpeg" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">恒温</a></h1>
            </hgroup>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">主页</a></li>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/tags/">标签云</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" target="_blank" href="mailto:lihuazhang@hotmail.com" title="Email"></a>
                            
                                <a class="fa GitHub" target="_blank" href="https://github.com/lihuazhang" title="GitHub"></a>
                            
                                <a class="fa RSS" target="_blank" href="/atom.xml" title="RSS"></a>
                            
                        </ul>
            </nav>
        </header>                
    </div>
    <link class="menu-list" tags="标签" friends="友情链接" about="关于我"/>
</nav>
      <div class="body-wrap">
  
    <article id="post-2013-04-26-htmlunit-jie-shao" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2013/04/26/2013-04-26-htmlunit-jie-shao/" class="article-date">
      <time datetime="2013-04-26T13:37:00.000Z" itemprop="datePublished">2013-04-26</time>
</a>

 
    <a href="/2013/04/26/2013-04-26-htmlunit-jie-shao/#comments" title="查看评论">
        <i class="fa fa-comments-o" aria-hidden="true"></i>
        <span class="count-comment"></span>
        
        
            <span class="disqus-comment-count" data-disqus-identifier="2013/04/26/2013-04-26-htmlunit-jie-shao/"></span>
        
    </a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2013/04/26/2013-04-26-htmlunit-jie-shao/">HtmlUnit 介绍</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>在 @Lily 的 <a href="http://test-china.org/topics/8" target="_blank" rel="external">Juint4 + WebDriver 入门篇</a> 中， Lily 问起了 HtmlUnit Driver。对 HtmlUnit Driver 我倒是没有接触太多， 所以特意去找了些文章看看。</p>
<p>在 <a href="http://code.google.com/p/selenium/wiki/HtmlUnitDriver" target="_blank" rel="external">selenium 官方 wiki</a> 上说：</p>
<blockquote>
<p>This is currently the fastest and most lightweight implementation of WebDriver. As the name suggests, this is based on HtmlUnit.</p>
</blockquote>
<p>所以想要了解 HtmlUnit Driver， 就必先追根溯源地研究下 HtmlUnit。</p>
<blockquote>
<p>HtmlUnit is a “GUI-Less browser for Java programs”. It models HTML documents and provides an API that allows you to invoke pages, fill out forms, click links, etc… just like you do in your “normal” browser.</p>
</blockquote>
<p>简单来说， HtmlUnit 就是没有界面的，你看不见的，但是却能做浏览器的活的 JAVA 版本的浏览器。需要说明的是，<strong>HtmlUnit 本身不是一个测试框架， 它真的只是一个模拟浏览器行为的程序。</strong> 所以需要和 Junit 或者 TestNG 等测试框架配合起来使用。同时，很多开源的工具也使用 HtmlUnit 来模拟浏览器行为，比如大名鼎鼎的 WebDriver。</p>
<p>下面，搬抄一把 HtmlUnit 的入门指南：</p>
<h2 id="建立项目"><a href="#建立项目" class="headerlink" title="建立项目"></a>建立项目</h2><p>使用 maven 创建一个 htmlunit 的试用项目</p>
<pre><code>mvn archetype:generate -DgroupId=com.testchina -DartifactId=my-htmlunit-test -DinteractiveMode=false
</code></pre><p>（不得不夸下 Maven， 构建的好工具啊。）</p>
<p>修改 pom.xml， 加入 HtmlUnit 依赖， 升级 Junit 为4.10。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span> <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></div><div class="line">  <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</div><div class="line">  <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></div><div class="line"></div><div class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.testchina<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>my-htmlunit-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></div><div class="line"></div><div class="line">  <span class="tag">&lt;<span class="name">name</span>&gt;</span>my-htmlunit-test<span class="tag">&lt;/<span class="name">name</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.apache.org<span class="tag">&lt;/<span class="name">url</span>&gt;</span></div><div class="line"></div><div class="line">  <span class="tag">&lt;<span class="name">properties</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></div><div class="line"></div><div class="line">  <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.10<span class="tag">&lt;/<span class="name">version</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>net.sourceforge.htmlunit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>htmlunit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.10<span class="tag">&lt;/<span class="name">version</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></div><div class="line"></div><div class="line">  <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></div></pre></td></tr></table></figure>
<p>然后，执行：</p>
<ol>
<li><code>mvn install</code></li>
<li><code>mvn eclipse:eclipse</code></li>
</ol>
<p>之后， 就可以在 eclipse 里导入项目。接着，我们来写第一个例子。</p>
<h2 id="试用"><a href="#试用" class="headerlink" title="试用"></a>试用</h2><p><strong>第一个例子：</strong></p>
<p>a. 访问 <a href="http://htmlunit.sourceforge.net" target="_blank" rel="external">http://htmlunit.sourceforge.net</a></p>
<p>b. 验证网页的 titile</p>
<p>c. 验证网页内容</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> com.testchina;</div><div class="line"></div><div class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.*;</div><div class="line"><span class="keyword">import</span> org.junit.Test;</div><div class="line"><span class="keyword">import</span> com.gargoylesoftware.htmlunit.WebClient;</div><div class="line"><span class="keyword">import</span> com.gargoylesoftware.htmlunit.html.HtmlPage;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyHtmlUnitTest</span> </span>&#123;</div><div class="line">    <span class="meta">@Test</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">homePage</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</div><div class="line">        <span class="keyword">final</span> WebClient webClient = <span class="keyword">new</span> WebClient(); <span class="comment">// 建立 WebClient。</span></div><div class="line">        <span class="keyword">final</span> HtmlPage page = webClient.getPage(<span class="string">"http://htmlunit.sourceforge.net"</span>); <span class="comment">// 访问网站，返回页面对象。</span></div><div class="line">        assertEquals(<span class="string">"HtmlUnit - Welcome to HtmlUnit"</span>, page.getTitleText()); <span class="comment">// 验证 title。</span></div><div class="line">        <span class="comment">/** 验证网页内容 */</span></div><div class="line">        <span class="keyword">final</span> String pageAsXml = page.asXml();</div><div class="line">        assertTrue(pageAsXml.contains(<span class="string">"&lt;body class=\"composite\"&gt;"</span>));</div><div class="line">        <span class="keyword">final</span> String pageAsText = page.asText();</div><div class="line">        assertTrue(pageAsText.contains(<span class="string">"Support for the HTTP and HTTPS protocols"</span>));</div><div class="line">        webClient.closeAllWindows();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>第二个例子: 指定浏览器</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@Test</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">homePage_Firefox</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</div><div class="line">    <span class="keyword">final</span> WebClient webClient = <span class="keyword">new</span> WebClient(BrowserVersion.FIREFOX_10);</div><div class="line">    <span class="keyword">final</span> HtmlPage page = webClient</div><div class="line">            .getPage(<span class="string">"http://htmlunit.sourceforge.net"</span>);</div><div class="line">    assertEquals(<span class="string">"HtmlUnit - Welcome to HtmlUnit"</span>, page.getTitleText());</div><div class="line"></div><div class="line">    webClient.closeAllWindows();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>很简单，在初始化 WebClient 的时候，传入浏览器版本， 目前 2.10 里面支持：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/** Register plugins for the browser versions. */</span></div><div class="line">   <span class="keyword">static</span> &#123;</div><div class="line">       INTERNET_EXPLORER_6.initDefaultFeatures();</div><div class="line">       INTERNET_EXPLORER_7.initDefaultFeatures();</div><div class="line">       INTERNET_EXPLORER_8.initDefaultFeatures();</div><div class="line"></div><div class="line">       FIREFOX_3.initDefaultFeatures();</div><div class="line">       FIREFOX_3_6.initDefaultFeatures();</div><div class="line">       FIREFOX_10.initDefaultFeatures();</div><div class="line"></div><div class="line">       <span class="keyword">final</span> PluginConfiguration flash = <span class="keyword">new</span> PluginConfiguration(<span class="string">"Shockwave Flash"</span>,</div><div class="line">           <span class="string">"Shockwave Flash 9.0 r31"</span>, <span class="string">"libflashplayer.so"</span>);</div><div class="line">       flash.getMimeTypes().add(<span class="keyword">new</span> PluginConfiguration.MimeType(<span class="string">"application/x-shockwave-flash"</span>,</div><div class="line">           <span class="string">"Shockwave Flash"</span>, <span class="string">"swf"</span>));</div><div class="line">       FIREFOX_3.getPlugins().add(flash);</div><div class="line">       FIREFOX_3_6.getPlugins().add(flash);</div><div class="line">       FIREFOX_10.getPlugins().add(flash);</div><div class="line"></div><div class="line">       CHROME_16.initDefaultFeatures();</div><div class="line">       CHROME_16.setApplicationCodeName(<span class="string">"Mozilla"</span>);</div><div class="line">       CHROME_16.setPlatform(<span class="string">"MacIntel"</span>);</div><div class="line">       CHROME_16.setCpuClass(<span class="keyword">null</span>);</div><div class="line">       CHROME_16.setBrowserLanguage(<span class="string">"undefined"</span>);</div><div class="line">       <span class="comment">// there are other issues with Chrome; a different productSub, etc.</span></div><div class="line">   &#125;</div></pre></td></tr></table></figure>
<p><strong>第三个例子： 获取页面元素</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@Test</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getElements</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</div><div class="line">    <span class="keyword">final</span> WebClient webClient = <span class="keyword">new</span> WebClient();</div><div class="line">    <span class="keyword">final</span> HtmlPage page = webClient.getPage(<span class="string">"http://htmlunit.sourceforge.net"</span>);</div><div class="line">    <span class="comment">//get list of all divs</span></div><div class="line">    <span class="keyword">final</span> List&lt;?&gt; divs = page.getByXPath(<span class="string">"//div"</span>); <span class="comment">// 返回所有的div</span></div><div class="line">    System.out.println(((HtmlDivision)divs.get(<span class="number">0</span>)).asText()); <span class="comment">// 得到第一个 Div 节点的内容。</span></div><div class="line"></div><div class="line">    <span class="comment">/** 返回所有的超链接， 并打印 name 属性*/</span></div><div class="line">    <span class="keyword">final</span> List&lt;HtmlAnchor&gt; anchors = page.getAnchors();</div><div class="line">    <span class="keyword">for</span> (HtmlAnchor anchor : anchors) &#123;</div><div class="line">        System.out.println(anchor.getAttribute(<span class="string">"name"</span>));</div><div class="line">    &#125;</div><div class="line">    webClient.closeAllWindows();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>第四个例子： 提交表单</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@Test</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">submittingForm</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</div><div class="line">    <span class="keyword">final</span> WebClient webClient = <span class="keyword">new</span> WebClient();</div><div class="line"></div><div class="line">    <span class="comment">// Get the first page</span></div><div class="line">    <span class="keyword">final</span> HtmlPage page1 = webClient.getPage(<span class="string">"http://some_url"</span>);</div><div class="line"></div><div class="line">    <span class="comment">// Get the form that we are dealing with and within that form,</span></div><div class="line">    <span class="comment">// find the submit button and the field that we want to change.</span></div><div class="line">    <span class="keyword">final</span> HtmlForm form = page1.getFormByName(<span class="string">"myform"</span>);</div><div class="line"></div><div class="line">    <span class="keyword">final</span> HtmlSubmitInput button = form.getInputByName(<span class="string">"submitbutton"</span>);</div><div class="line">    <span class="keyword">final</span> HtmlTextInput textField = form.getInputByName(<span class="string">"userid"</span>);</div><div class="line"></div><div class="line">    <span class="comment">// Change the value of the text field</span></div><div class="line">    textField.setValueAttribute(<span class="string">"root"</span>);</div><div class="line"></div><div class="line">    <span class="comment">// Now submit the form by clicking the button and get back the second page.</span></div><div class="line">    <span class="keyword">final</span> HtmlPage page2 = button.click();</div><div class="line"></div><div class="line">    webClient.closeAllWindows();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<p>是不是很棒？ 所有浏览器能做的，它都能做，我们再来看下它的特性：</p>
<ul>
<li>支持 HTTP and HTTPS 协议</li>
<li>支持 cookies</li>
<li>支持 Post， Get， Head， Delete</li>
<li>支持代理</li>
<li>能分析 HTTP responses</li>
<li>能自定义 HTTP request head</li>
<li>支持 Javascript</li>
</ul>
<p>于是有<br><strong>第五个例子： 使用 javascript</strong></p>
<p>这里的 Javascript 的意思，是指 HtmlUnit 可以通过 js 引擎执行 javascript 代码。</p>
<blockquote>
<p>HtmlUnit provides excellent JavaScript support, simulating the behavior of the configured browser (Firefox or Internet Explorer). It uses the Rhino JavaScript engine for the core language (plus workarounds for some Rhino bugs) and provides the implementation for the objects specific to execution in a browser.</p>
</blockquote>
<p>比如我们的页面有一个 alert 事件：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span><span class="tag">&lt;<span class="name">head</span>&gt;</span><span class="tag">&lt;<span class="name">title</span>&gt;</span>Alert sample<span class="tag">&lt;/<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">onload</span>=<span class="string">'alert("foo");'</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<p>我们如何捕捉它呢？</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@Test</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">alerts</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</div><div class="line">    <span class="keyword">final</span> WebClient webClient = <span class="keyword">new</span> WebClient();</div><div class="line"></div><div class="line">    <span class="keyword">final</span> List collectedAlerts = <span class="keyword">new</span> ArrayList();</div><div class="line">    webClient.setAlertHandler(<span class="keyword">new</span> CollectingAlertHandler(collectedAlerts));</div><div class="line"></div><div class="line">    <span class="comment">// Since we aren't actually manipulating the page, we don't assign</span></div><div class="line">    <span class="comment">// it to a variable - it's enough to know that it loaded.</span></div><div class="line">    webClient.getPage(<span class="string">"http://tciludev01/test.html"</span>);</div><div class="line"></div><div class="line">    <span class="keyword">final</span> List expectedAlerts = Collections.singletonList(<span class="string">"foo"</span>);</div><div class="line">    assertEquals(expectedAlerts, collectedAlerts);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>是不是很轻巧？ 像真正的浏览器一样， HtmlUnit 可以响应各种 Javascript 事件， 执行各种 Javascript 代码。</p>
<hr>
<p>对于 HtmlUnit， 我就初略看了看， 总的印象是轻，不用启动笨重的浏览器就能做到和浏览器一样的行为， 和 Junit4 很好的搭配，可以<br>写出轻巧优美的测试案例， 同时也能为测试省去不少时间。这在前期测试驱动开发的时候，特别是 Web 应用开发，可以节省去不少时间。</p>
<p>参见:</p>
<p><a href="http://htmlunit.sourceforge.net/" target="_blank" rel="external">http://htmlunit.sourceforge.net/</a></p>
<p><a href="http://maven.apache.org/guides/getting-started/maven-in-five-minutes.html" target="_blank" rel="external">http://maven.apache.org/guides/getting-started/maven-in-five-minutes.html</a></p>
<p><a href="http://code.google.com/p/selenium/wiki/HtmlUnitDriver" target="_blank" rel="external">http://code.google.com/p/selenium/wiki/HtmlUnitDriver</a></p>
<p><a href="http://htmlunit.sourceforge.net/javascript-howto.html" target="_blank" rel="external">http://htmlunit.sourceforge.net/javascript-howto.html</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/技术/">技术</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/WebDriver/">WebDriver</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-2013-03-21-windowsxia-cha-zhao-zhan-yong-duan-kou-de-jin-cheng" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2013/03/21/2013-03-21-windowsxia-cha-zhao-zhan-yong-duan-kou-de-jin-cheng/" class="article-date">
      <time datetime="2013-03-21T13:02:00.000Z" itemprop="datePublished">2013-03-21</time>
</a>

 
    <a href="/2013/03/21/2013-03-21-windowsxia-cha-zhao-zhan-yong-duan-kou-de-jin-cheng/#comments" title="查看评论">
        <i class="fa fa-comments-o" aria-hidden="true"></i>
        <span class="count-comment"></span>
        
        
            <span class="disqus-comment-count" data-disqus-identifier="2013/03/21/2013-03-21-windowsxia-cha-zhao-zhan-yong-duan-kou-de-jin-cheng/"></span>
        
    </a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2013/03/21/2013-03-21-windowsxia-cha-zhao-zhan-yong-duan-kou-de-jin-cheng/">windows 下查找占用端口的进程</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>一直只知道 *nux 下的命令，对 windows 知之甚少，其实 windows 下也有很多强大的命令。</p>
<p>比如在 linux 下查看一个 mysql 的端口，</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">➜  octopress git:(source) ✗ netstat -an | grep 3306 # mac 下的命令没有 linux 下来的丰富啊，没有 p 选项。</div><div class="line">tcp4       0      0  *.3306                 *.*                    LISTEN</div><div class="line"></div><div class="line">root@li493-58:~# netstat -anp | grep 3306 # 这是 ubuntu 下面的。</div><div class="line">tcp        0      0 0.0.0.0:3306            0.0.0.0:*               LISTEN      2509/mysqld</div></pre></td></tr></table></figure>
<p>很方便吧。那么如果在 windows 下呢？</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">netstat -ano | findstr 3306 # 这里会把 pid 告诉你，比如 pid 是 1278</div><div class="line"></div><div class="line">tasklist /fi &quot;pid eq 1278&quot; # 这样就找到了 1278 对应的进程</div></pre></td></tr></table></figure>
<p>也是很简单的吧！</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/技术/">技术</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/windows/">windows</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-2013-02-12-shi-yong-capybara-deng-lu-bai-du" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2013/02/12/2013-02-12-shi-yong-capybara-deng-lu-bai-du/" class="article-date">
      <time datetime="2013-02-12T09:14:00.000Z" itemprop="datePublished">2013-02-12</time>
</a>

 
    <a href="/2013/02/12/2013-02-12-shi-yong-capybara-deng-lu-bai-du/#comments" title="查看评论">
        <i class="fa fa-comments-o" aria-hidden="true"></i>
        <span class="count-comment"></span>
        
        
            <span class="disqus-comment-count" data-disqus-identifier="2013/02/12/2013-02-12-shi-yong-capybara-deng-lu-bai-du/"></span>
        
    </a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2013/02/12/2013-02-12-shi-yong-capybara-deng-lu-bai-du/">使用 capybara 登陆百度</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>ShiLongLu 问你有什么办法测试百度的登录窗口呢？这是差不多2个月前的问题了，我一直忙于 Dota 圣剑传说。恰巧春节有时间看了下。</p>
<p>百度登陆的时候是弹出一个对话框，如图：</p>
<p><img src="/photos/baidulogin.png" alt=""></p>
<p>但是这个对话框是用 iframe 实现的。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">height</span>=<span class="string">"100%"</span> <span class="attr">frameborder</span>=<span class="string">"0"</span> <span class="attr">width</span>=<span class="string">"100%"</span> <span class="attr">scrolling</span>=<span class="string">"no"</span> <span class="attr">src</span>=<span class="string">"http://www.baidu.com/cache/user/html/login-1.2.html"</span> <span class="attr">marginheight</span>=<span class="string">"0"</span> <span class="attr">marginwidth</span>=<span class="string">"0"</span> <span class="attr">id</span>=<span class="string">"login_iframe"</span>&gt;</span></div><div class="line">...</div><div class="line">...</div><div class="line">...</div><div class="line"><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></div></pre></td></tr></table></figure>
<p>所以在填写用户名和密码的时候，需要先 switch 到这个 frame 上去， </p>
<blockquote>
<p>When working inside a frame, you should use Capybara’s within_frame method.</p>
<ul>
<li>(Object) within_frame(frame_id)</li>
</ul>
<p>Execute the given block within the given iframe given the id of that iframe. Only works on some drivers (e.g. Selenium)</p>
<p>Parameters:<br>frame_id (String) — Id of the frame</p>
</blockquote>
<p>所以我们的实现基本如下：</p>
<p>baidu.feature:</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">Given I am on baidu.com</div><div class="line">When I  click <span class="string">"登录"</span></div><div class="line">And I switch to login form</div><div class="line">And I enter <span class="string">"lihuazhang@hotmail.com"</span> <span class="keyword">for</span> <span class="string">"帐号"</span></div><div class="line">And I enter <span class="string">"204646"</span> <span class="keyword">for</span> <span class="string">"密码"</span></div><div class="line">And I click <span class="string">"登录"</span> button</div><div class="line">Then I should see <span class="string">"zhangzuichi"</span></div></pre></td></tr></table></figure>
<p>step_definition.rb:</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">When /^I enter <span class="string">"(.*?)"</span> <span class="keyword">for</span> <span class="string">"(.*?)"</span>$/ <span class="keyword">do</span> <span class="params">|value, key|</span></div><div class="line">  <span class="keyword">if</span> key == <span class="string">"帐号"</span></div><div class="line">    within_frame <span class="string">'login_iframe'</span> <span class="keyword">do</span></div><div class="line">      fill_in <span class="string">'pass_login_username_0'</span>, <span class="symbol">:with</span> =&gt; value</div><div class="line">    <span class="keyword">end</span></div><div class="line">  <span class="keyword">else</span></div><div class="line">     within_frame <span class="string">'login_iframe'</span> <span class="keyword">do</span></div><div class="line">      fill_in <span class="string">'pass_login_password_0'</span>, <span class="symbol">:with</span> =&gt; value</div><div class="line">    <span class="keyword">end</span></div><div class="line">  <span class="keyword">end</span></div><div class="line"><span class="keyword">end</span></div><div class="line"></div><div class="line">When /^I click <span class="string">"(.*?)"</span> button$/ <span class="keyword">do</span> <span class="params">|arg1|</span></div><div class="line">  within_frame <span class="string">'login_iframe'</span> <span class="keyword">do</span></div><div class="line">    click_button <span class="string">'pass_login_input_submit_0'</span></div><div class="line">  <span class="keyword">end</span></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<p>大致如此，在 firefox 下测试通过。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/技术/">技术</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/capybara/">capybara</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-2013-02-12-gao-bie-2012" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2013/02/12/2013-02-12-gao-bie-2012/" class="article-date">
      <time datetime="2013-02-12T02:57:00.000Z" itemprop="datePublished">2013-02-12</time>
</a>

 
    <a href="/2013/02/12/2013-02-12-gao-bie-2012/#comments" title="查看评论">
        <i class="fa fa-comments-o" aria-hidden="true"></i>
        <span class="count-comment"></span>
        
        
            <span class="disqus-comment-count" data-disqus-identifier="2013/02/12/2013-02-12-gao-bie-2012/"></span>
        
    </a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2013/02/12/2013-02-12-gao-bie-2012/">告别2012</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>2011年6月我离开AMD，进入现在这家公司，转眼2年快过去了。现在每次和同事聊起来，都觉得其实现在的这家公司很亏。<br>我们几乎所有的员工在这里都完成了各自人生的大事。比如结婚，比如生子，比如怀孕。到了我这种年纪的人事业慢慢靠边站，<br>婚姻家庭走上舞台。这或多或少的对公司总会有点影响。</p>
<p>2012年9月中旬，和小顾去香港兜了一圈。<br>2012年10月1日，我在家里操办了婚宴。之后和小顾开始了两人生活。<br>2012年11月，报名练车。<br>2012年12月，练车。<br>2013年1月，去北京兜了一圈。加练车。<br>2013年2月，小顾小路过了。我还没考。过春节。  </p>
<p>公司比起2011年来更加不景气，美国裁员之后，真正做事的都走了，剩下一些开会和管事的人。上海部门和美国的沟通也越发的困难，我们从本来的一个研发部门变成了一个信息孤岛，彻底成了美国总部的一个外包。大家抱怨的声音也越来越大，头儿们也不知道如何安慰。春节房间前， Jacky 提出了离职，大家唏嘘不已。</p>
<p>业余时间做的游戏不好不坏，在这里打个广告，<a href="http://dota.baicaisi.net" target="_blank" rel="external">Doat 圣剑传说</a>, android 和 ios 同步发布。</p>
<p><img src="http://dota.baicaisi.net/images/screenshots/2.png" alt=""></p>
<p>瞧着不错吧！欢迎大家试玩，也希望大家能帮忙宣传下，我们不会做营销，只有口口相传的用户。当然口碑不错。</p>
<p>2012年，过得不好不坏，咋一想，啥也回忆不起来，唯有那次在北京滑雪，从山顶一冲而下的光景。</p>
<p><img src="/photos/huaxue.jpg" alt=""></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/生活/">生活</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/年终总结/">年终总结</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-2012-08-06-ying-she-windows-cmdke-yi-du-qu-de-ci-pan-qu-dong" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2012/08/06/2012-08-06-ying-she-windows-cmdke-yi-du-qu-de-ci-pan-qu-dong/" class="article-date">
      <time datetime="2012-08-06T13:58:00.000Z" itemprop="datePublished">2012-08-06</time>
</a>

 
    <a href="/2012/08/06/2012-08-06-ying-she-windows-cmdke-yi-du-qu-de-ci-pan-qu-dong/#comments" title="查看评论">
        <i class="fa fa-comments-o" aria-hidden="true"></i>
        <span class="count-comment"></span>
        
        
            <span class="disqus-comment-count" data-disqus-identifier="2012/08/06/2012-08-06-ying-she-windows-cmdke-yi-du-qu-de-ci-pan-qu-dong/"></span>
        
    </a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2012/08/06/2012-08-06-ying-she-windows-cmdke-yi-du-qu-de-ci-pan-qu-dong/">映射 Windows cmd 可以读取的磁盘驱动</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>在 windows 下， 通常我们映射一个网路驱动到本地的时候， 会在本地生成一个文件夹与之映射。<br>然后我们就可以通过这个文件夹访问和操作资源（当然你得有权限），好像操作本地文件一样。但是这样，<br>似乎就不能通过命令行访问。（不知道为什么，但是最近遇到这个问题）</p>
<p>贴出解决方法：</p>
<p><em>1.</em> 进入命令行窗口。</p>
<blockquote>
<p>使用 Alt + F2， 然后输入 cmd， 回车。 或者从开始菜单，运行那里输入cmd，回车。</p>
</blockquote>
<p><em>2.</em> 输入<code>net use X: \\path\to\share</code>， X 是你要映射的盘符， \path\to\share 就是你的网络驱动地址。</p>
<p><em>3.</em> 回车，然后成功~</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/技术/">技术</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/windows/">windows</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-2012-08-05-surround-dot-vim" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2012/08/05/2012-08-05-surround-dot-vim/" class="article-date">
      <time datetime="2012-08-05T01:37:00.000Z" itemprop="datePublished">2012-08-05</time>
</a>

 
    <a href="/2012/08/05/2012-08-05-surround-dot-vim/#comments" title="查看评论">
        <i class="fa fa-comments-o" aria-hidden="true"></i>
        <span class="count-comment"></span>
        
        
            <span class="disqus-comment-count" data-disqus-identifier="2012/08/05/2012-08-05-surround-dot-vim/"></span>
        
    </a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2012/08/05/2012-08-05-surround-dot-vim/">surround.vim</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <p>一般写东西的时候，总会遇到比如写了一长串文字后，突然想给这串文字头尾加个括号，<br>或者引号。其实很多编辑器都提供这种功能，选中，然后输入括号。但是一直用 Vim，也没发现<br>有这种功能， 也只能怪自己没有研究。 后来网上找了一圈， 发现了原来有这个插件： <a href="https://github.com/tpope/vim-surround/" target="_blank" rel="external">surround.vim</a>。</p>
<blockquote>
<p>Surround.vim is all about “surroundings”: parentheses, brackets, quotes, XML tags, and more. The plugin provides mappings to easily delete, change and add such surroundings in pairs.</p>
</blockquote>
<p>先看下全部的快捷键：</p>
<p><img src="/photos/allkey.png" alt=""></p>
<p>可以看到基本有三种操作：</p>
<ul>
<li>删除</li>
</ul>
<p>ds 加包在两边的引号，括号或者标签（标签全部用t代替）。</p>
<p>e.g:</p>
<p>“hello, world!” =&gt; hello, world! 只要输入 <code>ds&quot;</code></p>
<p>\<strong\>hello, world!\</strong\> =&gt; hello, world! 只要输入 <code>dst</code></p>
<ul>
<li>添加</li>
</ul>
<p><img src="/photos/addkey.png" alt=""></p>
<p>note: s 代表sentence iw/w 代表 word。</p>
<ul>
<li>修改</li>
</ul>
<p><img src="/photos/changekey.png" alt=""></p>
<p>截图来自<a href="http://ihacklog.com/post/vim-plugins-you-should-know-about-surround.html" target="_blank" rel="external">你应该知道的vim插件之surround.vim</a></p>
<p>到此， surround vim 你就基本掌握了。 如果你对这些快捷键能倒敲入流，那么你一定能得到许多的便捷。 XD</p>
<p>扩展阅读： Text Object<br>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/技术/">技术</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vim/">vim</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a href="/2012/08/05/2012-08-05-surround-dot-vim/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-2012-08-01-xiao-qing-xin-outlookshi-yong-ji" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2012/08/01/2012-08-01-xiao-qing-xin-outlookshi-yong-ji/" class="article-date">
      <time datetime="2012-08-01T12:52:00.000Z" itemprop="datePublished">2012-08-01</time>
</a>

 
    <a href="/2012/08/01/2012-08-01-xiao-qing-xin-outlookshi-yong-ji/#comments" title="查看评论">
        <i class="fa fa-comments-o" aria-hidden="true"></i>
        <span class="count-comment"></span>
        
        
            <span class="disqus-comment-count" data-disqus-identifier="2012/08/01/2012-08-01-xiao-qing-xin-outlookshi-yong-ji/"></span>
        
    </a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2012/08/01/2012-08-01-xiao-qing-xin-outlookshi-yong-ji/">小清新 Outlook 试用记</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <p>我不得不说，outlook 不错。Metro 风格像清新的风让人觉得惬意。目前 outlook 提供从 hotmail 升级和注册新用户两种方式。</p>
<p>登入<a href="http://www.hotmail.com" target="_blank" rel="external">Hotmail</a>，</p>
<p><img src="/photos/hotmail.png"></p>
<p>点击<strong>了解详情</strong>， 进入<strong>Outlook 预览</strong>页面</p>
<p><img src="/photos/outlookpreview.png"></p>
<p>点击<strong>试用 Outlook</strong>进入注册页面，在这个页面你可以试用原先的 hotmail 邮箱，也可以注册一个新的 outlook 的邮箱。</p>
<p><img src="/photos/register.png"></p>
<p>我将我的 hotmail 升级了一把。然后登陆 outlook， 登陆之后的界面：</p>
<p><img src="/photos/main.png"></p>
<p>很棒吧！ 干净清爽！</p>
<p>用半小时粗略的试用了 outlook 的各种功能。为之倾倒，不吝言辞，我来说几句。</p>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/技术/">技术</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Metro/">Metro</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a href="/2012/08/01/2012-08-01-xiao-qing-xin-outlookshi-yong-ji/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-2012-04-25-webdriver-4-jia-shang-xie-zi" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2012/04/25/2012-04-25-webdriver-4-jia-shang-xie-zi/" class="article-date">
      <time datetime="2012-04-25T12:52:00.000Z" itemprop="datePublished">2012-04-25</time>
</a>

 
    <a href="/2012/04/25/2012-04-25-webdriver-4-jia-shang-xie-zi/#comments" title="查看评论">
        <i class="fa fa-comments-o" aria-hidden="true"></i>
        <span class="count-comment"></span>
        
        
            <span class="disqus-comment-count" data-disqus-identifier="2012/04/25/2012-04-25-webdriver-4-jia-shang-xie-zi/"></span>
        
    </a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2012/04/25/2012-04-25-webdriver-4-jia-shang-xie-zi/">WebDriver 4: 加上叶子</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>在前三篇WebDriver文章里，我们基本上有了一个Maven WebDriver Junit4的框架主干，这些还远远不够。<br>所以我们要添些叶子。</p>
<ul>
<li>要有资源配置文件</li>
<li>要有WebDriver的封装</li>
<li>要有业务对象的抽象，比如用户</li>
<li>要有自定义的异常</li>
</ul>
<p>我们大概期望有这样的文件架构：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">.</div><div class="line">├── main</div><div class="line">│   ├── java</div><div class="line">│   │   └── com.ahchoo.automation.exception</div><div class="line">│   │   └── com.ahchoo.automation.model</div><div class="line">│   │   └── com.ahchoo.automation.page</div><div class="line">│   │   └── com.ahchoo.automation.utils</div><div class="line">│   └── resources</div><div class="line">└── test</div><div class="line">    ├── java</div><div class="line">    │   └── com.ahchoo.automation.testcase</div><div class="line">    └── resources</div></pre></td></tr></table></figure>
<hr>
<p>###配置文件</p>
<p>Maven 有自己的资源文件管理策略，我们只需要修改之前的pom.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span> <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></div><div class="line">    <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd"</span>&gt;</div><div class="line">    ...</div><div class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">resources</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">resource</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">testResources</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">testResource</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/test/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">testResource</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">testResources</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span> </div><div class="line">    ...</div><div class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></div></pre></td></tr></table></figure>
<p>我们指定了两个资源文件目录，然后将config.xml放在这些目录之下。<br><em>注意，src/main/resouces下的文件只能在运行main里面的代码的时候才会用到，同样的src/test/resources下的配置文件只有在运行测试的时候才会加载。</em></p>
<p>可以将<strong>浏览器类型, 远程服务器地址, 应用URL之类</strong>放到config.xml中去。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">config</span> <span class="attr">id</span>=<span class="string">"config"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">BaseUrl</span>&gt;</span>http://www.baidu.com<span class="tag">&lt;/<span class="name">BaseUrl</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">Browser</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">type</span>&gt;</span>Firefox10<span class="tag">&lt;/<span class="name">type</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">location</span>&gt;</span>pathToBrowser<span class="tag">&lt;/<span class="name">location</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">remote</span>&gt;</span>192.168.1.248<span class="tag">&lt;/<span class="name">remote</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">Browser</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">user</span> <span class="attr">name</span>=<span class="string">"xxx"</span> <span class="attr">password</span>=<span class="string">"xxx"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">config</span>&gt;</span></div></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/技术/">技术</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/WebDriver/">WebDriver</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-2012-04-24-sauce-ondemandshi-yong" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2012/04/24/2012-04-24-sauce-ondemandshi-yong/" class="article-date">
      <time datetime="2012-04-24T13:37:00.000Z" itemprop="datePublished">2012-04-24</time>
</a>

 
    <a href="/2012/04/24/2012-04-24-sauce-ondemandshi-yong/#comments" title="查看评论">
        <i class="fa fa-comments-o" aria-hidden="true"></i>
        <span class="count-comment"></span>
        
        
            <span class="disqus-comment-count" data-disqus-identifier="2012/04/24/2012-04-24-sauce-ondemandshi-yong/"></span>
        
    </a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2012/04/24/2012-04-24-sauce-ondemandshi-yong/">Sauce OnDemand试用</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>闲着无聊，试用了下<a href="https://saucelabs.com" target="_blank" rel="external">saucelabs</a>。<br>先注册用户，这个略过不说。</p>
<p>saucelabs有两种方式:</p>
<ol>
<li><p>Sauce Scout</p>
<p> 通过访问架在云端的浏览器(cloud-hosted browsers)执行测试用例。相当于saucelabs给用户提供了多种多样组合的虚拟机，只不过这个虚拟机就只有一个浏览器。如图：<br> <img src="/photos/soucescout.png" alt="sourcescout" title="soucescout"></p>
<p> Saucelabs提供了许多方案，对于那些没有空间部署环境的公司，这个服务的确很贴心。</p>
</li>
<li><p>Sauce OnDemand</p>
<p> Sauce OnDemand就是所谓的自动化了。我们利用WebDriver或者Selenium RC的remote server来指定SauceLabs提供的浏览器配置，进行各种自动化测试。</p>
</li>
</ol>
<p>那我们开始试用Sauce OnDemand，英语好的攻城狮们请直接移步<a href="https://saucelabs.com/docs/ondemand/getting-started/env/ruby/se2/linux" target="_blank" rel="external">Get Started</a></p>
<p>为了方便起见，我就用ruby。首先确保你安装了<code>selenium-webdriver</code>，如果没有安装，在终端用以下命令安装：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">gem install selenium-webdriver</div></pre></td></tr></table></figure></p>
<p>输入以下代码：注意: 代码中的:url请替换成你自己的，不过我不知道这个url到底是哪里来的，<br>我是从get started里面的例子里找到的。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">require</span> <span class="string">'rubygems'</span></div><div class="line"><span class="keyword">require</span> <span class="string">"test/unit"</span></div><div class="line"><span class="keyword">require</span> <span class="string">'selenium-webdriver'</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ExampleTest</span> &lt; Test::Unit::<span class="title">TestCase</span></span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setup</span></span></div><div class="line">        caps = Selenium::WebDriver::Remote::Capabilities.firefox</div><div class="line">        caps.version = <span class="string">"5"</span></div><div class="line">        caps.platform = <span class="symbol">:XP</span></div><div class="line">        caps[<span class="symbol">:name</span>] = <span class="string">"Testing Selenium 2 with Ruby on Sauce"</span></div><div class="line"></div><div class="line">        @driver = Selenium::WebDriver.<span class="keyword">for</span>(</div><div class="line">          <span class="symbol">:remote</span>,</div><div class="line">          <span class="symbol">:url</span> =&gt; <span class="string">"http://lihuazhang:ba444e83-206c-4a9c-b008-4da920d7f852@ondemand.saucelabs.com:80/wd/hub"</span>,</div><div class="line">          <span class="symbol">:desired_capabilities</span> =&gt; caps)</div><div class="line">    <span class="keyword">end</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_sauce</span></span></div><div class="line">        @driver.navigate.to <span class="string">"http://saucelabs.com/test/guinea-pig"</span></div><div class="line">        assert @driver.title.<span class="keyword">include</span>?(<span class="string">"I am a page title - Sauce Labs"</span>)</div><div class="line">    <span class="keyword">end</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">teardown</span></span></div><div class="line">        @driver.quit</div><div class="line">    <span class="keyword">end</span></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<p>运行<code>ruby basic-example.rb</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">Run options: </div><div class="line"></div><div class="line"># Running tests:</div><div class="line"></div><div class="line">.</div><div class="line"></div><div class="line">Finished tests in 44.647462s, 0.0224 tests/s, 0.0224 assertions/s.</div><div class="line"></div><div class="line">1 tests, 1 assertions, 0 failures, 0 errors, 0 skips</div></pre></td></tr></table></figure>
<p>可以看到运行成功，我们再去sauce的<a href="https://saucelabs.com/account" target="_blank" rel="external">Account</a>页面里去看下运行的结果。</p>
<p><img src="/photos/souceaccount.png" alt="account"></p>
<p>可以看到页面里有video和log下载，打开log我们可以看到运行的录像，而log就记录了运行的信息。<br>此外，我们更可以点开测试用例，查看更多的细节。</p>
<p>但是一般我们测试环境都是内网，为了满足这个条件，Saucelabs提供一条通道叫Sauce Connect。</p>
<blockquote>
<p>Sauce Connect creates a secure and reliable tunnel from our cloud to your private network that can only be accessed by you. This eliminates the need to whitelist IPs, open any ports on your firewall or go through any changes in your tests.<br>Sauce Connect is not only for accessing private servers. If you want all of your test traffic to be secure and reliable, even the Selenium instructions you send to Sauce, you can use Sauce Connect for that too!</p>
</blockquote>
<h2 id="Get-Started"><a href="#Get-Started" class="headerlink" title="Get Started:"></a>Get Started:</h2><p>1.先下载<a href="https://saucelabs.com/downloads/Sauce-Connect-latest.zip" target="_blank" rel="external">Sauce Connect</a></p>
<p>2.解压然后运行<code>java -jar Sauce-Connect.jar lihuazhang ba444e83-206c-4a9c-b008-4da920d7f852</code></p>
<ol>
<li>确定tunnel start以后，接下去你就可以运行你的测试用例了。</li>
</ol>
<p>我们再来看下刚刚那个测试用例，让程序navigate.to到本地。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">require</span> <span class="string">'rubygems'</span></div><div class="line"><span class="keyword">require</span> <span class="string">"test/unit"</span></div><div class="line"><span class="keyword">require</span> <span class="string">'selenium-webdriver'</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ExampleTest</span> &lt; Test::Unit::<span class="title">TestCase</span></span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setup</span></span></div><div class="line">        caps = Selenium::WebDriver::Remote::Capabilities.firefox</div><div class="line">        caps.version = <span class="string">"5"</span></div><div class="line">        caps.platform = <span class="symbol">:XP</span></div><div class="line">        caps[<span class="symbol">:name</span>] = <span class="string">"Testing Selenium 2 with Ruby on Sauce"</span></div><div class="line"></div><div class="line">        @driver = Selenium::WebDriver.<span class="keyword">for</span>(</div><div class="line">          <span class="symbol">:remote</span>,</div><div class="line">          <span class="symbol">:url</span> =&gt; <span class="string">"http://lihuazhang:ba444e83-206c-4a9c-b008-4da920d7f852@ondemand.saucelabs.com:80/wd/hub"</span>,</div><div class="line">          <span class="symbol">:desired_capabilities</span> =&gt; caps)</div><div class="line">    <span class="keyword">end</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_sauce</span></span></div><div class="line">        @driver.navigate.to <span class="string">"http://localhost:3000"</span> <span class="comment"># Set a local env.</span></div><div class="line">    <span class="keyword">end</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">teardown</span></span></div><div class="line">        @driver.quit</div><div class="line">    <span class="keyword">end</span></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<p>再运行一遍，必然成功啊~</p>
<p>我们看下Sauce-Connect.jar的日志，可以看到这个tunnel起到了一个中转的作用。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">2012-04-25 00:04:01,184 - connection to Sauce Connect server closed</div><div class="line">2012-04-25 00:04:01,927 - old keepalive timer shutting down</div><div class="line">2012-04-25 00:04:03,923 - Successful handshake with Sauce Connect server</div><div class="line">2012-04-25 00:04:03,927 - resending 2 packets</div><div class="line">2012-04-25 00:04:04,078 - Tunnel host version: 0.1.0, remote endpoint ID: 73b1e202231b41a3802aab8785caf15f</div><div class="line">2012-04-25 00:05:19,002 - relative URL, constructing absolute from Host header</div><div class="line">2012-04-25 00:05:19,003 - using constructed absolute URL: http://localhost:3000/</div><div class="line">2012-04-25 00:05:19,007 - Could not proxy /, exception: java.net.ConnectException: Connection refused</div><div class="line">2012-04-25 00:05:22,145 - relative URL, constructing absolute from Host header</div><div class="line">2012-04-25 00:05:22,147 - using constructed absolute URL: http://localhost:3000/favicon.ico</div><div class="line">2012-04-25 00:05:22,148 - Could not proxy /favicon.ico, exception: java.net.ConnectException: Connection refused</div><div class="line">2012-04-25 00:05:22,589 - relative URL, constructing absolute from Host header</div><div class="line">2012-04-25 00:05:22,592 - using constructed absolute URL: http://localhost:3000/favicon.ico</div><div class="line">2012-04-25 00:05:22,594 - Could not proxy /favicon.ico, exception: java.net.ConnectException: Connection refused</div><div class="line">2012-04-25 00:05:23,391 - GET http://feeds.bbci.co.uk/news/rss.xml?edition=int -&gt; 200 (2847ms)</div><div class="line">2012-04-25 00:05:53,084 - disconnected from Sauce Connect server</div><div class="line">2012-04-25 00:05:53,085 - connection to Sauce Connect server closed</div></pre></td></tr></table></figure>
<p>同样的，我们可以在Account里面看到这个测试用例的运行细节，如图：</p>
<p><img src="/photos/sauce_detail1.png" alt="detail"></p>
<p><img src="/photos/sauce_detail2.png" alt="detail"></p>
<p>不错吧，有兴趣，自己动手试试。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/技术/">技术</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/WebDriver/">WebDriver</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-2012-04-23-mysql5-qing-kong-rootmi-ma" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2012/04/23/2012-04-23-mysql5-qing-kong-rootmi-ma/" class="article-date">
      <time datetime="2012-04-23T13:27:00.000Z" itemprop="datePublished">2012-04-23</time>
</a>

 
    <a href="/2012/04/23/2012-04-23-mysql5-qing-kong-rootmi-ma/#comments" title="查看评论">
        <i class="fa fa-comments-o" aria-hidden="true"></i>
        <span class="count-comment"></span>
        
        
            <span class="disqus-comment-count" data-disqus-identifier="2012/04/23/2012-04-23-mysql5-qing-kong-rootmi-ma/"></span>
        
    </a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2012/04/23/2012-04-23-mysql5-qing-kong-rootmi-ma/">mysql5 清空root密码</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>最近在windows用mysql，在root上设置了密码，很不方便，于是就想去清空它，网上找了下教程，总结了下。肯定好用。</p>
<ul>
<li><p>停止MySQL的服务。 </p>
</li>
<li><p>用mysqld.exe –skip-grant-tables &amp; (会占用一个dos控制台窗口)</p>
</li>
<li><p>重新打开一个dos控制台窗口，进入mysql </p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">mysql -uroot</div><div class="line">use mysql</div><div class="line">update user <span class="built_in">set</span> password=password(<span class="string">""</span>) <span class="built_in">where</span> user=<span class="string">'root'</span>;</div><div class="line">flush privileges；</div></pre></td></tr></table></figure>
<ul>
<li><p>关闭MySQL的控制台窗口，用正常模式启动Mysql </p>
</li>
<li><p>你可以用新的密码链接到Mysql了。 </p>
</li>
</ul>
<p>Note:</p>
<p>Please specify the defaults file when you find the above instructions do not have effects.</p>
<ul>
<li>用mysqld.exe –defaults-file=”C:\ProgramData\MySQL\MySQL Server 5.5\my.ini” –skip-grant-tables &amp; (会占用一个dos控制台窗口)</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/技术/">技术</a>
    </div>


      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mysql/">mysql</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/4/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/6/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i> 
                2012-2017 恒温
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="快速、简洁且高效的博客框架">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="简而不减 Hexo 双栏博客主题  v3.5">Yelee</a> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i>
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" title="本站到访数"><i class="fa fa-user" aria-hidden="true"></i><span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>| </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit"  title="本页阅读量"><i class="fa fa-eye animated infinite pulse" aria-hidden="true"></i><span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>
    </div>
    
<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script>

    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum = 5;
                var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>


    

    
        <script id="dsq-count-scr" src="//8atmyhouse.disqus.com/count.js" async></script>
        <script>
            if ($(".left-col").is(":visible")) {
                var $disqusCount = $(".disqus-comment-count");
                $disqusCount.bind("DOMNodeInserted", function(e) {
                    var num = $(this).text().replace(/[^0-9]/ig,"");
                    if (num > 0) {
                        $(this).siblings(".count-comment").text(num);
                    }
                    $(this).remove();
                })
            } else {
                $(".disqus-comment-count").remove();
            }
        </script>
     




<div class="scroll" id="scroll">
    <a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="查看评论"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    // Open in New Window
    
        var oOpenInNew = {
            
            
            
            
            
            
             archives: ".archive-article-title", 
             miniArchives: "a.post-list-link", 
            
             friends: "#js-friends a", 
             socail: ".social a" 
        }
        for (var x in oOpenInNew) {
            $(oOpenInNew[x]).attr("target", "_blank");
        }
    
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>